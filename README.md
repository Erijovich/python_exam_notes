# Промежуточная контрольная работа по блоку специализация

## Консольное приложение для заметок

### [Задание тут](./TASK.md)

Задача выполнена. 
После запуска программа работает через команды, начинающиеся с символа `\` (обратная косая черта)  
Список команд:  

`/new` - Добавить новую заметку. Можно ввести `/new` затем `enter`, после - ввести название и тело заметки через двойной дефис, или же сразу тело заметки, тогда названием будет первые три слова заметки. Можно ввести `/new` и после пробела - тело заметки, затем `enter`. Будет сохранена заметка, с заголовком из первых трёх слов. Можно ввести `/new` и после пробела сначала название, затем тело заметки, разделённые двойным дефисом, в конце `enter`". Будет сохранена заметка указанным названием. Пример: `/new Some title -- some note content here`.  
Любые команды расположенные в теле заметки (не в начале ввода) не будут распознаны, как команда и будут считаться телом заметки.

`/find` - Поиск по заметкам. Производится по названиям, после пробела или энтера необходимо указать слово или часть слова для поиска

`/read` - Прочитать заметку. После пробела или энтера необходимо указать id заметки

`/del` - Удалить заметку. После пробела или энтера необходимо указать id заметки.

`/edit` - Изменить заметку. После пробела или энтера необходимо указать id заметки.

`/help` - Вывести на экран помощь по командам

`/exit` - Закончить работу и выйти из программы

Строка введённая после большинства команд будет проигнорирована, если не указано обратное. Например, при вводе `/read 1 some random text here`, Будет прочитана заметка с id = 1 (если таковая имеется), остальной текст будет проигнорирован. Это сделано для повышения отказоустойчивости и удобства.

*Идеи на будущее:*
* *работать напрямую с json-файлом, прямо из него читать и в него записывать, а не грузить все заметки в промежуточный список*
* *реализовать многострочный ввод заметок. К каждой строке крепить отметку времени создания (и редактирования)*
* *редактировать так же можно конкретную строку (с добавлением времени редактирования)*
* *в режиме редактирования можно добавлять новые строки*
* *добавить проверку на введение комманды из любого места, например я нахожусь в режиме редактирования заметки, мне надо ввести новый заголовок и, введя команду `/stop`, я могу выйти в "основное меню". Без сохранения изменений*

-------------

*15.09.2023*

Базовый (и даже больше) функционал готов. Все поставленные задачи программа выполняет. Осталось немного причесать код. В целом, старался именовать все переменные и функции так, что бы код читался легко, как обычный текст. Однако, очень уж много всего получилось, понимаю, что задачу, можно было бы выполнить строчек в 50-60. Приложил простенькую схему взаимодействия между модулями программы:  
![Простая схема](./simple_scheme.jpg)
Что стало ясно:
* с json я пока на "вы". Хочется напрямую взаимодействовать с файлом, а не через список-прокладку. Надо учить
* надо упрощать код, особенно, в пайтоне. Есть много конструкций, позволяющих в несколько раз сократить сложные конструкции. Да и логика, кажется, перемудрённая получилась.
* сначала стоит сделать mvp, а уже потом генерировать миллионы прекраснейших идей, которые **ну обязательно** необходимо реализовать. Легко закопаться и вообще не продвинуться. 
* но! что бы так делать, надо с самого начала выбирать правильную архитектуру, что бы была возможность расширять функционал программы, иначе приходится всё заново переписывать. Необходимо глубоко изучить этот вопрос.



*13.09.2023*

* добавил парсер команд , строк и айдишника. Проверяем, соответственно, корректность введённой команды, существование айдишника и обработка тела заметки. Если юзер пишет только тело, то заголовок автоматически составляется из првых трёх слов заметки (или из всей заметки если слов меньше трёх).  
* добавил работу с json файлом, пока есть создание, чтение и запись (во временный list, хранящийся в оперативной памяти)
* пропработал файл controller.py - он получает команду и строку и дальше уже решает , что делать, например, выбрать соответсвующую операцию из файла operations.py. Или же запросить у юзера дополнительную инфу, или же собщить ему о некорректном вводе.
* пока решил отказаться от многострочного ввода заметки с сохранением времени каждой строки, а то зарываться начинаю, желание новых типа-фич появляется раньше, чем успеваю сделать прошлые идеи 
* из операций реализовал добавление и удаление заметок (остался поиск по слову, чтение по айдишнику и редактирование по айдишнику)

на будущее идеи:  
сделать logger.py, может , в нем ххранить время всех изменений??  
checker.py - для проверки корректности ввода. хз, нужно ли заморачиваться отдельным модулем...     
загружать не весь json файл с телом заметок, а только id и title


*09.09.2023*

Сделал туду, добавил описание команд, сделал вызов помощи (возможно, тоже в операции перенесу)

##### ТУДУ

* проработать архитектуру
* создать файлы пустышки
* накидать в маин вызов юи
* добавить гитигнор

Архитектура:

* маин - вызов файла юзер интерфейс
* юзер интерфейс - список команд, хелп и ожидатель следующей команды
* контроллер - перенаправлятель куда следует, обработка введеных команд
* обработчик - все операции - здесь

Рад этому заданию. Давно хотел для себя сделать приложение с заметками с одной очень важной для меня фичей - на каждую новую строку ставится временная отметка. Так, в стандартных заметках, как правило, сохраняется только время последнего изменения, иногда ещё и время создания. А запись может быть достаточно большой и их тоже может быть много. Хотелось бы понимания, что и когда была вресено. Или, другой вариант: начал писать сегодня , а продолжил завтра (хотя , для консольного приложения это трудновато представить, а вот для заметок в телефоне очень бы хотелось видеть такую функцию).